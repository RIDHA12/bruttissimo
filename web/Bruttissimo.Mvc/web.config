<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <configSections>
    <section name="dotless" type="dotless.Core.configuration.DotlessConfigurationSectionHandler, dotless.Core" />
  </configSections>
	
  <appSettings configSource="Xml\app.config" />
  <connectionStrings configSource="Xml\db.config" />
  <dotless minifyCss="true" cache="true" web="false" />

  <system.web>
		<customErrors mode="On" />
		<globalization uiCulture="en-US" />
    <httpRuntime enableVersionHeader="false" />
		
    <compilation configSource="Xml\compilation.config" />
    <pages configSource="Xml\pages.config" />
		
    <authentication configSource="Xml\membership.authentication.config" />
    <membership configSource="Xml\membership.provider.config" />
    <roleManager configSource="Xml\membership.roles.config" />
		
    <httpHandlers>
      <add path="*.less" verb="GET" type="dotless.Core.LessCssHttpHandler, dotless.Core" />
    </httpHandlers>
    <httpModules>
      <add name="PerRequestLifestyle" type="Castle.MicroKernel.Lifestyle.PerWebRequestLifestyleModule, Castle.Windsor" />
    </httpModules>
  </system.web>
	
  <system.net>
    <mailSettings>
      <smtp configSource="Xml\smtp.config" />
    </mailSettings>
  </system.net>
	
  <system.webServer>
    <httpProtocol>
      <customHeaders>
        <remove name="X-Powered-By" />
      </customHeaders>
    </httpProtocol>
		
    <validation validateIntegratedModeConfiguration="false" />
    <modules runAllManagedModulesForAllRequests="true">
      <add name="PerRequestLifestyle" type="Castle.MicroKernel.Lifestyle.PerWebRequestLifestyleModule, Castle.Windsor" />
    </modules>
    <directoryBrowse enabled="false" />
    <handlers>
      <add name="dotless" path="*.less" verb="GET" type="dotless.Core.LessCssHttpHandler,dotless.Core" resourceType="File" preCondition="" />
    </handlers>
  </system.webServer>
	
  <runtime>
    <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
      <dependentAssembly>
        <assemblyIdentity name="System.Web.Mvc" publicKeyToken="31bf3856ad364e35" />
        <bindingRedirect oldVersion="1.0.0.0-2.0.0.0" newVersion="3.0.0.0" />
      </dependentAssembly>
			
			<dependentAssembly>
				<assemblyIdentity name="dotless.Core" publicKeyToken="96b446c9e63eae34" culture="neutral" />
				<bindingRedirect oldVersion="0.0.0.0-1.3.0.5" newVersion="1.3.0.5" />
			</dependentAssembly>
    </assemblyBinding>
  </runtime>
</configuration>